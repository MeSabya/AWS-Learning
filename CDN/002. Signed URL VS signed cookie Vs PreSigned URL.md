Signed URLs and Signed Cookies are both mechanisms used to control access to content served through CloudFront distributions. They provide a way to restrict access to specific resources based on certain conditions and are commonly used for private or restricted content distribution.

Here's a comparison between Signed URLs and Signed Cookies:

## Signed URLs:

### Usage: 
Signed URLs are URLs that have query parameters appended to them, containing authentication information. 
These URLs are generated by the server and are typically used when you want to provide temporary access to a specific resource.

### Authentication: 
When a user requests a resource using a Signed URL, CloudFront checks the signature in the URL 
against the parameters and verifies that the request is within the specified time frame and meets any other conditions specified.

### Flexibility: 
Signed URLs are useful when you want to control access to individual resources on a per-request basis. 
They are suitable for scenarios where the content is accessed directly by the end-user, such as downloading a file.

### Caching: 
CloudFront caches responses based on the URL, so if multiple users request the same resource using the same Signed URL,
CloudFront serves the cached response if available.

## Signed Cookies:
### Usage: 
Signed Cookies are HTTP cookies set by the server with authentication information. These cookies are typically used when you 
want to provide access to multiple resources within a certain domain or path. It does not support RTMP protocol.

### Authentication: 
When a user sends a request to CloudFront with a Signed Cookie, CloudFront validates the signature of the cookie and 
checks if the request meets any other conditions specified in the policy.

### Flexibility: 
Signed Cookies are useful when you want to provide access to multiple resources or protect an entire section 
of your website or application. They are suitable for scenarios where the content is accessed indirectly through a web page or application.

### Caching: 
CloudFront does not cache responses based on cookies. Each request with a Signed Cookie is evaluated individually, 
so the caching behavior is determined by the caching settings of the underlying resources.

***In summary, Signed URLs are suitable for providing temporary access to individual resources, 
while Signed Cookies are better suited for providing access to multiple resources or protecting entire sections of a website or application. 
The choice between the two depends on the specific use case and requirements of your application.***

## Give an example when signed url and signed cookie can be useful?

### Signed URL Example:
Imagine you have a website where users can download premium content, such as e-books, after purchasing them. You want to ensure that only users who have purchased the e-book have access to download it. 

In this scenario:
After a user completes the purchase, your server generates a Signed URL that grants temporary access to download the specific e-book.
The Signed URL contains authentication information, including a signature, expiration time, and any other conditions you specify.
The user receives the Signed URL and can download the e-book within the specified time frame.
Once the URL expires, the user can no longer access the e-book, even if they have the URL.

### Signed Cookie Example:
Suppose you have a subscription-based video streaming service with different tiers of membership (e.g., basic, premium). Users need to log in to access the content, and premium subscribers have access to exclusive content. 

In this scenario:
After a user logs in, your server sets a Signed Cookie with authentication information indicating the user's subscription level.
When the user requests a video, CloudFront checks for the presence of the Signed Cookie and validates its signature.
If the user has a valid Signed Cookie indicating they are a premium subscriber, they can access the exclusive content.
If the user does not have a valid Signed Cookie or has a cookie indicating they are a basic subscriber, they are restricted from accessing the exclusive content.

## Presigned URL
You have a designated S3 bucket named “customer-proposals”

Inside this bucket, you possess a file titled “<customer-name>-new-business-proposal.pdf”

Your objective is to provide a designated individual with read-only access to this particular file, and this access should have a defined expiration period of 24 hours.

You can generate Pre-Signed URLs using AWS SDKs, command-line tools like the AWS CLI, or via custom applications that interact with AWS services through the appropriate AWS SDKs. In below illustration i am leveraging the 

AWS Command Line Interface (AWS CLI) to produce a pre-signed URI to comply above scenario:

Execute the command: aws s3 presign s3://customer-proposals/<customer-name>-new-business-proposal.pdf --expires-in 86400
Upon execution, you will receive a pre-signed URI in the format: https://customer-proposal.s3.amazonaws.com/<customer-name>-new-bussibess-proposal.pdf?AWSAccessKeyId=AKIAXXXXXX&Signature=XXXXX&Expires=YYYYYY.

You can then securely share this generated URL with the intended recipient to grant them access within the specified time frame.

### Benefits of Pre-Signed URLs

- Enhanced Security: Pre-signed URLs protect your sensitive credentials by allowing access without exposing your access keys or authentication details.
- Controlled Access: You have the power to define the access parameters, including the type of action (e.g., read, write), and the duration for which the URL is valid.
- Temporary Access: Access to the resource is only temporary, which reduces the risk of unauthorized access in the future.
- Ease of Sharing: Pre-signed URLs simplify resource sharing. Recipients can access the resource with a simple URL without needing complex authentication processes.

### summary

A presigned URL is generated by an AWS user who has access to the object. The generated URL is then given to the unauthorized user. The presigned URL can be entered in a browser or used by a program or HTML webpage. The credentials used by the presigned URL are those of the AWS user who generated the URL.

## signed URL Vs presigned URL 
Signed URL: A signed URL is typically generated by the server and includes authentication information and access conditions. It is used to grant temporary access to a specific resource stored in an AWS service (such as S3) through CloudFront. The signature is generated by the server using AWS credentials and includes parameters such as the expiration time and access policy.

Pre-signed URL: A pre-signed URL is also a URL that grants temporary access to a specific resource, but it is generated by the client (typically using an AWS SDK or CLI) rather than the server. The client includes authentication information and access conditions when generating the pre-signed URL, and the resulting URL is valid for a limited time. Pre-signed URLs are commonly used when you want to delegate access to resources to a third party without providing them with AWS credentials.

